const buttons=document.querySelectorAll(".application_icon"),inputElem=document.querySelector(".application_input"),submitButton=document.querySelector(".application_form__button"),applicationForm=document.querySelector(".application_form"),phoneHover=document.querySelectorAll(".anim"),loading=document.querySelector(".load"),firstImage=document.querySelector(".first_image"),secondImage=document.querySelector(".large_image_blue"),addAnim=()=>{setTimeout(()=>{firstImage.classList.add("anim2"),firstImage.classList.remove("aos-init"),firstImage.classList.remove("aos-animate"),firstImage.removeAttribute("data-aos"),secondImage.classList.add("anim2"),secondImage.classList.remove("aos-init"),secondImage.classList.remove("aos-animate"),secondImage.removeAttribute("data-aos")},500)};addAnim();let clickButton="";const defaultState=()=>{buttons[0].classList.add("button_active")},setLoading=n=>{n===!0&&loading.classList.add("loader-active"),n===!1&&loading.classList.remove("loader-active")};for(let n of buttons)defaultState(),n.addEventListener("click",()=>{let t=document.querySelector(".application_icon.button_active");t&&t.classList.remove("button_active");n.classList.add("button_active")});const checkResponse=n=>{n.ok&&console.log(n)},checkButtons=()=>{const n=document.querySelectorAll(".application_icon.button_active");n&&n.forEach(n=>{clickButton=n.textContent,clickButton==="Email"&&inputElem.setAttribute("type","email"),clickButton!=="Email"&&inputElem.setAttribute("type","text")})};buttons.forEach(n=>{n.addEventListener("click",checkButtons)});const handleSubmit=n=>{n.preventDefault();const t=inputElem.value;setLoading(!0);fetch("https://upkeep.kz/api/v1/call",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:`${clickButton}`,value:`${t}`})}).then(n=>{checkResponse(n),n.status===200&&alert("Заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.")}).catch(()=>alert("Произошла ошибка, проверьте подключение к интернету или повторите попытку позднее")).finally(()=>{inputElem.value="",setLoading(!1)})},func=()=>{phoneHover.forEach(n=>{n.classList.remove("aos-init"),n.classList.remove("aos-animate"),n.removeAttribute("data-aos"),n.classList.add("hvr-float")})},del=()=>{phoneHover.forEach(n=>{setTimeout(()=>{n.classList.add("aos-init"),n.classList.add("aos-animate"),n.setAttribute("data-aos","fade-up"),n.classList.remove("hvr-float")},300)})};phoneHover.forEach(n=>{n.addEventListener("mouseover",func),n.addEventListener("mouseout",del)});applicationForm.addEventListener("submit",handleSubmit);